<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ü—ñ—Ä–∞–º—ñ–¥–∞ –î—É—à—ñ ‚Äî –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è</title>
  <style>
    body {
      background: linear-gradient(to bottom, #111, #222);
      color: #f3eac2;
      font-family: Georgia, serif;
      padding: 40px;
    }
    h1 {
      text-align: center;
      font-size: 32px;
      margin-bottom: 40px;
    }
    .pyramid {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
    }
    .row {
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    .card {
      background: #1e1e1e;
      border: 1px solid #555;
      padding: 15px;
      border-radius: 10px;
      width: 260px;
      box-shadow: 0 0 10px #333;
    }
    .card h2 {
      font-size: 20px;
      margin-bottom: 10px;
      color: #ffdb70;
    }
    .card p {
      font-size: 14px;
      line-height: 1.5;
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>üîÆ –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è –ü—ñ—Ä–∞–º—ñ–¥–∏ –î—É—à—ñ</h1>

  <div class="pyramid" id="pyramidInterpretation">
    <!-- –ö–∞—Ä—Ç–∏ –±—É–¥—É—Ç—å –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ç—É—Ç -->
  </div>

  <script type="module">
    import { deepInterpretations } from './interpretations_full.js';

    // –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç –∑ URL-–ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
    function getCardsFromURL() {
      const params = new URLSearchParams(window.location.search);
      const cards = [];
      for (let i = 1; i <= 6; i++) {
        const card = params.get(`card${i}`);
        cards.push(card || "–ø—É—Å—Ç–æ");
      }
      return cards;
    }

    const cards = getCardsFromURL();

    const positions = [
      "1. –¶–µ–Ω—Ç—Ä (–ï–≥–æ)",
      "2. –õ—ñ–≤–µ –º–∏–Ω—É–ª–µ",
      "3. –ü—Ä–∞–≤–µ –º–∞–π–±—É—Ç–Ω—î",
      "4. –¢—ñ–Ω—å –ï–≥–æ",
      "5. –ù–∏–∂–Ω—î –ª—ñ–≤–µ (–∫–æ—Ä–µ–Ω—ñ)",
      "6. –ù–∏–∂–Ω—î –ø—Ä–∞–≤–µ (—Ç–µ–Ω–¥–µ–Ω—Ü—ñ—ó)"
    ];

    const pyramid = document.getElementById("pyramidInterpretation");

    const layout = [
      [0],       // –ø–µ—Ä—à–∏–π —è—Ä—É—Å
      [1, 2],    // –¥—Ä—É–≥–∏–π —è—Ä—É—Å
      [3, 4, 5]  // —Ç—Ä–µ—Ç—ñ–π —è—Ä—É—Å
    ];

    layout.forEach(rowIndexes => {
      const row = document.createElement("div");
      row.className = "row";

      rowIndexes.forEach(i => {
        const cardName = cards[i];
        const interp = deepInterpretations[cardName];

        const cardEl = document.createElement("div");
        cardEl.className = "card";

        cardEl.innerHTML = `
          <h2>${positions[i]} ‚Äî ${cardName}</h2>
          <p><strong>–ê—Ä—Ö–µ—Ç–∏–ø:</strong> ${interp?.archetype || '–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö'}</p>
          <p><strong>–¢—ñ–Ω—å:</strong> ${interp?.shadow || '–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö'}</p>
          <p><strong>–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ:</strong> ${interp?.partnerChoice || '–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö'}</p>
          <p><strong>–ü—Ä–æ—Ñ–µ—Å—ñ—è:</strong> ${interp?.professionChoice || '–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö'}</p>
          <p><strong>–†–µ–ø—Ä–µ—Å—ñ—è:</strong> ${interp?.repressionType || '–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö'}</p>
          <p><strong>–ü—Å–∏—Ö–æ–¥–∏–Ω–∞–º—ñ–∫–∞:</strong> ${interp?.psychodynamic || '–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö'}</p>
        `;

        row.appendChild(cardEl);
      });

      pyramid.appendChild(row);
    });
  </script>
</body>
</html>
