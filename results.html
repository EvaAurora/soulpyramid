<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–†–µ–∑—É–ª—å—Ç–∞—Ç –ü—ñ—Ä–∞–º—ñ–¥–∏ –î—É—à—ñ</title>
  <style>
    body {
      background: linear-gradient(to bottom, #111, #222);
      color: #f3eac2;
      font-family: Georgia, serif;
      line-height: 1.6;
      padding: 40px 20px;
      text-align: center;
    }
    h1 {
      font-size: 32px;
      color: #f3eac2;
      margin-bottom: 30px;
    }
    .result-block {
      background: rgba(255, 255, 255, 0.05);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
      max-width: 800px;
      margin: 0 auto 30px;
      text-align: left;
    }
    .footer {
      margin-top: 50px;
      font-size: 14px;
      color: #666;
    }
    .card-title {
      font-size: 20px;
      color: #ffe08a;
      margin-top: 20px;
    }
    hr {
      margin: 30px 0;
      border: none;
      border-top: 1px dashed #666;
    }
  </style>
</head>
<body>
  <h1>üîÆ –¢–≤–æ—è –ü—ñ—Ä–∞–º—ñ–¥–∞ –î—É—à—ñ</h1>
  <div id="resultContainer" class="result-block"></div>
  <div class="footer">–ü—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑ –ª—é–±–æ–≤‚Äô—é –¢–∏—Ö–æ—é –¢—Ä—ñ–∞–¥–æ—é üïäÔ∏è</div>

<script>
async function loadInterpretations() {
  try {
    const response = await fetch('cards_data.json');
    if (!response.ok) throw new Error('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª –∑ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è–º–∏.');

    const cardsData = await response.json();
    const params = new URLSearchParams(window.location.search);
    const cardKeys = [];
    for(let i=1; i<=6; i++) {
      const cardName = params.get('card' + i) || '–ø—É—Å—Ç–æ';
      cardKeys.push(cardName);
    }

    const resultContainer = document.getElementById('resultContainer');
    resultContainer.innerHTML = '';

    const titles = [
      "üî∫ –ï–≥–æ (–í–µ—Ä—Ö–Ω—ñ–π —è—Ä—É—Å)",
      "üî∏ –°–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–°–µ—Ä–µ–¥–Ω—ñ–π —è—Ä—É—Å ‚Äì –ª—ñ–≤–∞)",
      "üî∏ –°–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–°–µ—Ä–µ–¥–Ω—ñ–π —è—Ä—É—Å ‚Äì –ø—Ä–∞–≤–∞)",
      "üîª –ü—ñ–¥—Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–ù–∏–∂–Ω—ñ–π —è—Ä—É—Å ‚Äì –ª—ñ–≤–∞)",
      "üîª –ü—ñ–¥—Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–ù–∏–∂–Ω—ñ–π —è—Ä—É—Å ‚Äì —Å–µ—Ä–µ–¥–∏–Ω–∞)",
      "üîª –ü—ñ–¥—Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–ù–∏–∂–Ω—ñ–π —è—Ä—É—Å ‚Äì –ø—Ä–∞–≤–∞)"
    ];

    for(let i=0; i<cardKeys.length; i++) {
      const cardName = cardKeys[i];
      if (cardName === '–ø—É—Å—Ç–æ' || !(cardName in cardsData)) {
        resultContainer.innerHTML += `<div><em>–ö–∞—Ä—Ç–∞ "${cardName}" –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞ —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.</em></div><hr>`;
        continue;
      }

      const card = cardsData[cardName];

      resultContainer.innerHTML += `
        <div class="card-title">${titles[i]}: ${cardName}</div>
        <div><strong>–ü–æ–∑–∏—Ç–∏–≤–Ω—ñ –∞—Å–ø–µ–∫—Ç–∏:</strong> ${card.positive || '‚Äî'}</div>
        <div><strong>–ù–µ–≥–∞—Ç–∏–≤–Ω—ñ –∞—Å–ø–µ–∫—Ç–∏:</strong> ${card.negative || '‚Äî'}</div>
        <div><strong>–ê—Ä—Ö–µ—Ç–∏–ø:</strong> ${card.archetype || '‚Äî'}</div>
        <div><strong>–ê–∫—Ü–µ–Ω—Ç—É–∞—Ü—ñ—è:</strong> ${card.accentuation || '‚Äî'}</div>
        <div><strong>–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è:</strong> ${card.extended || '‚Äî'}</div>
        <hr>
      `;
    }

    // üîî –ù–∞–¥—Å–∏–ª–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram
    sendToTelegram(cardKeys);

  } catch (error) {
    document.getElementById('resultContainer').innerHTML = `<p>–ü–æ–º–∏–ª–∫–∞: ${error.message}</p>`;
  }
}

function sendToTelegram(cards) {
  const botToken = "7743354943:AAHl6k5fpuTvEHkQlnwpv7tJFxZ94i994J4";
  const chatId = "613056949";

  let message = "üîÆ –ù–æ–≤–∞ –ü—ñ—Ä–∞–º—ñ–¥–∞ –î—É—à—ñ\n";
  const titles = [
    "üî∫ –ï–≥–æ",
    "üî∏ –°–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–ª—ñ–≤–∞)",
    "üî∏ –°–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–ø—Ä–∞–≤–∞)",
    "üîª –ü—ñ–¥—Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–ª—ñ–≤–∞)",
    "üîª –ü—ñ–¥—Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å (—Ü–µ–Ω—Ç—Ä)",
    "üîª –ü—ñ–¥—Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å (–ø—Ä–∞–≤–∞)"
  ];

  for (let i = 0; i < cards.length; i++) {
    message += `${titles[i]}: ${cards[i]}\n`;
  }

  message += `üïí –î–∞—Ç–∞: ${new Date().toLocaleString('uk-UA')}`;

  fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded"
    },
    body: `chat_id=${chatId}&text=${encodeURIComponent(message)}`
  }).then(res => {
    if (res.ok) {
      console.log("‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –≤ Telegram");
    } else {
      console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –≤ Telegram");
    }
  });
}

loadInterpretations();
</script>
</body>
</html>
